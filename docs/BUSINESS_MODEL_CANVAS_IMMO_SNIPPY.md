# Business Model Canvas — IMMO SNIPPY (Extensive Summary)

**Document purpose:** Single, exhaustive reference for the Business Model Canvas of IMMO SNIPPY as inferred from the codebase, docs, and product behaviour. Use for strategy, pitch, or investor context.

---

## Overview of the Canvas

IMMO SNIPPY is a **B2B SaaS-style tool** whose primary customers are **real estate management agencies** (short-term rental / Airbnb-style “operators”). The tool does **not** sell to property owners directly; it enables agencies to find, qualify, and contact owners at scale with on-brand, AI-generated outreach, and to manage the resulting pipeline in a CRM. The **revenue model** (subscription, per-seat, per-lead, one-time license) is **not explicitly defined** in the repository; the canvas below describes **value flows, actors, and operations** as implemented and documented.

---

## 1. Customer Segments

### 1.1 Primary: Management agencies (“operators”)

- **Who they are:** Professional Airbnb / short-term rental (STR) management companies and co-hosts who want to **acquire new properties** (i.e. sign new property owners to management agreements).
- **Geographic focus (from product):** Europe-first; Luxembourg (athome.lu, immotop.lu), with support for multi-country and EU-wide (France, Germany, Spain, Portugal, etc.). Configurable `countries` and `target_sites_by_country` allow expansion.
- **Size/profile:** From single operators to small/medium agencies. The product supports **one active operator per run** (`active_provider_id` in `config.yaml`); multi-tenant is supported in the data model (many operators in DB, each with own context).
- **Jobs to be done:**
  - **Find** motivated private sellers/owners (FSBO, marketplace listings, long-term rentals that could convert to STR).
  - **Qualify** leads (LLM-based eligibility vs. criteria; optional property valuation).
  - **Contact** owners with **personalized, on-brand** messages (email, and optionally WhatsApp / Facebook Messenger / website forms).
  - **Move** owners along a pipeline: discovery → first reply → value bomb + trust → **booked discovery call** (human hand-off; no contract close in chat).
  - **Manage** the pipeline: owners, properties, conversations, viability scores, exports (CRM).
- **Needs:** Scale without generic “bot” tone; compliance (EU STR, DAC7, local regulations); control over messaging (tone, fee structure, Calendly, rules); and a single place to see leads, clients, and communications.

### 1.2 Secondary (indirect): Property owners

- **Who they are:** Private individuals who own (or list) properties: long-term landlords, second-home owners, inherited property, busy professionals, expats, first-time hosts, portfolio investors.
- **Relationship to IMMO SNIPPY:** They are **not** direct customers of IMMO SNIPPY. They are the **end recipients** of the outreach generated by the tool on behalf of the agency. The product’s “value proposition” to them is **encoded in the static and operator context** (Grand Slam Offer, value equation, risk reversal, 2× income, done-for-you) so that agency messages sound compelling and consistent.
- **Why they matter for the canvas:** The **quality and relevance** of outreach (tone, proof, compliance, clarity) directly affect the agency’s conversion to discovery calls and signed contracts; hence the product invests heavily in operator-specific context, phrasing rules, and compliance (EU STR/tax).

### 1.3 Tertiary (optional): Developers / integrators

- **Who they are:** Teams that integrate with the FastAPI backend, use the API for operators, CRM, leads, config, or run the bot/valuation in custom flows.
- **Needs:** Stable API contract, clear docs (e.g. LOVABLE_FRONTEND_SPEC, Grok summary), config-driven behaviour, optional cloud (MongoDB) for scale.

---

## 2. Value Propositions

### 2.1 For agencies (operators)

| Value | Description |
|-------|-------------|
| **Automated lead discovery** | Continuously scan public listings (athome.lu, immotop.lu, Facebook Marketplace, etc.); identify FSBO/owner listings; extract contact details (email/phone) with minimal human intervention. |
| **LLM-based qualification** | Filter leads by configurable criteria and optional property valuation (daily rental potential, revenue estimate, risk) so agencies focus on viable opportunities. |
| **On-brand outreach** | Every message is generated using **operator context**: company name, tagline, countries, tone, target owner type, fee structure, Calendly, up to **50 sentence-form rules**, and reference documents (draft contract, summary agreement, payout examples). The LLM stays in character as the agency; it never mentions being an AI or bot. |
| **Structured acquisition pipeline** | Clear pipeline goal: discovery → first reply → value bomb + trust → **booked discovery call**. The tool does not close contracts in chat; it hands off to the human (Calendly, confirmation). |
| **Compliance and safety** | Built-in EU STR/tax context (DAC7, country-level deductions, disclaimers); phrasing that respects regulations; low-volume, human-like cadence to minimise bans and reports. |
| **CRM and pipeline management** | Owner-centric CRM: owners, properties, conversations (multi-channel), viability scoring, bulk actions, exports (CSV/Excel), real-time property evaluation panel. Two pipelines: Property Acquisition and Chatbot/Communication. |
| **Property valuation (daily rental)** | Optional evaluation of listing potential (score, recommendation, estimated revenue, P/E, strengths, risks, certainty) using market data and future context 2026–2031 to support prioritisation and messaging. |
| **Local-first / privacy option** | Run classification and message generation with **local Ollama**; no obligation to send data to third-party LLM APIs. |
| **Scalable data layer** | Listings and leads can live in **MongoDB Atlas** (cloud) or SQLite (local); operator data in SQLite with optional mirror to Mongo for multi-tenant cloud. |

### 2.2 Value equation (encoded for the AI — Hormozi-style)

The product embeds a clear **value equation** in the system prompt so every message can reflect it:

- **Value = (Dream Outcome × Perceived Likelihood) / (Time Delay × Effort & Sacrifice)**
- **Dream outcome:** Passive income explosion (1.5×–3× long-term rent), zero work, zero tenant drama.
- **Perceived likelihood:** High proof (case studies, local results, guarantees).
- **Time delay:** Results in 30–60 days; “we do everything.”
- **Effort:** Zero for the owner (“You do nothing. We handle everything. You just collect more money.”).

Plus **Grand Slam Offer** structure: core (100% done-for-you management), bonuses (e.g. free photography, profit audit, first 30 days reduced fee, Host Success Kit), **risk reversal** guarantee (e.g. 1.5× long-term rent in first 90 days or manage free until it does), and scarcity/urgency. **Negotiation tactics** are explicit: enlarge the pie, build rapport, social proof, risk reversal, outcome focus.

### 2.3 For property owners (indirect)

The **value proposition to owners** is articulated **through** the agency’s messages, not as a separate product:

- Switch from long-term (or vacant) to short-term rental → **1.5× to 3×** more monthly income.
- **100% done-for-you** STR: dynamic pricing, 24/7 guest comms, cleaning coordination, payouts, reviews, compliance.
- Owner keeps **75–85%** of revenue; manager takes 15–25% commission.
- **Risk reversal:** e.g. guarantee at least 1.5× long-term rent equivalent in first 90 days or manage free; cancel anytime, no fees.
- **Europe-aware:** Local compliance knowledge, EU data protection, transparent payouts.

---

## 3. Channels

### 3.1 How agencies reach and use the product

| Channel | Role |
|--------|------|
| **Web application (real-estate-scout)** | Primary UI: Operator Onboarding (`/operator-onboarding`), pipeline, CRM (`/crm`), data/leads/agents, website-bot, facebook-bot, test-build, agents-apis. Vite + React; consumes FastAPI via `VITE_API_BASE` or `/api` proxy. |
| **Operator Onboarding flow** | Dedicated route and form (single long page with categories): company basics, tone/target/fee, Calendly/notes, documents, rules (up to 50). Data sent to `POST /api/operators`, `PATCH /api/operators/:id`. |
| **FastAPI backend** | All programmatic access: operators, documents, context, CRM (owners, properties, conversations), settings, config, valuation, leads, agents, logs, auth (local, Google, LinkedIn). CORS enabled for frontend. |
| **Config-driven bot** | Agencies (or their ops team) edit `config.yaml`: `active_provider_id`, `start_urls`, `criteria`, Ollama model, email, limits. Run `python -m bot.main` to execute the scanning and outreach loop. |
| **Streamlit dashboard** | Optional: `streamlit run operator_onboarding/dashboard.py` — list operators, preview context, test message generation. |
| **CLI** | `manage_providers.py` (list, add, view, delete operators); `view_context.py <operator_id>` to print full system prompt. |

### 3.2 How the product “reaches” property owners (outbound)

| Channel | Role |
|--------|------|
| **Email** | Primary outbound channel; SMTP (Gmail/Outlook app password or yagmail). Message templates (cold_opener, after_reply, value_bomb_risk_reversal, objection_handler, call_booking, call_booked_confirmation) filled with operator placeholders. |
| **Facebook Messenger** | Supported in current build: browser-driven outreach (Playwright) for queued URLs. |
| **Website contact forms** | Playwright-based form submission for website leads. |
| **WhatsApp** | Referenced in config and CRM channels; structure in place for multi-channel comms. |
| **Calendly** | Not a “sending” channel; each operator has `calendly_link` and `call_length_minutes`. The AI is instructed to ask for a discovery call and include the provider’s Calendly link. |

---

## 4. Customer Relationships

### 4.1 Agency ↔ IMMO SNIPPY

| Type | Description |
|------|-------------|
| **Self-serve onboarding** | Agencies create and configure their operator profile via the UI (or CLI). No mandatory sales touch for setup. |
| **Automated delivery** | The bot runs continuously (or on schedule); leads are found, qualified, and contacted with no per-message manual step unless the agency configures manual approval. |
| **Configuration and control** | Agencies define tone, target owner type, property types, fee structure, rules, and documents. They control `active_provider_id`, start URLs, criteria, and rate limits. |
| **CRM as relationship layer** | Agencies use the CRM to view owners, properties, conversations, viability; to log communications; to run bulk actions and exports. Automation toggles and “AI stop stage” give control over when humans take over. |
| **Transparency** | Context API (`GET /api/operators/:id/context`) returns the exact system prompt used for message generation; `view_context.py` for local inspection. |
| **Support** | No explicit in-repo documentation of support channels (help desk, SLAs, onboarding calls). Product is built to be operable from docs and UI. |

### 4.2 Agency ↔ Property owner (facilitated by the product)

- The product **does not** replace the agency–owner relationship. It **generates** the first touch and follow-ups; the **relationship** remains between the agency and the owner.
- **Hand-off point:** When a discovery call is booked, the tool confirms and steps back; the **human** agency closes the contract and onboarding.
- **Retention:** The CRM stores full conversation history (no deletion of messages), so the agency has a permanent record for dispute resolution, compliance, and follow-up.

---

## 5. Revenue Streams

**Important:** The codebase and docs do **not** specify how IMMO SNIPPY monetizes. The following are **plausible** revenue streams consistent with the product.

| Stream | Description (inferred) |
|--------|-------------------------|
| **SaaS subscription** | Monthly or annual fee per agency (operator) or per “seat” for access to the dashboard, API, bot, and CRM. Tiering could be by number of operators, leads/month, or features (e.g. valuation, cloud MongoDB). |
| **Usage-based (per lead / per contact)** | Charge per qualified lead, per message sent, or per discovery call booked. Aligns with value (more leads → more calls → more contracts for the agency). |
| **One-time license or setup fee** | Lump sum for self-hosted or perpetual license; less common for a cloud-first tool but possible for enterprise or on-prem. |
| **Revenue share** | No evidence in repo; theoretically could take a small % of agency revenue or of “new contracts” attributed to the tool (complex to implement and verify). |
| **White-label or partner rev share** | Larger aggregators or franchise networks could run IMMO SNIPPY for many agencies and charge per agency or rev share; product supports multi-operator and cloud. |

**Current state:** No payment, billing, or licensing code is present. Revenue model is **to be defined** by the business; the canvas describes **value delivery** that can support the above.

---

## 6. Key Resources

### 6.1 Intellectual / knowledge

| Resource | Description |
|----------|-------------|
| **Static context (Airbnb/STR business model)** | `operator_onboarding/airbnb_static_context.py`: Option A base prompt, **real 2026 Europe relationship model** (owner ↔ manager, legal/money flow, acquisition flow, ongoing relationship), Grand Slam Offer, value equation, negotiation tactics, Europe-specific rules. |
| **EU STR & tax context** | `operator_onboarding/eu_str_tax_context.py`: Disclaimer, EU regulation, DAC7, country-level deductions; legal phrasing so messages stay compliant. |
| **Message templates** | `operator_onboarding/message_templates.py`: Six named templates (cold_opener → call_booked_confirmation) and placeholders (owner_name, property_type, calendly_link, company_name, etc.). |
| **Valuation context** | Market data (`data/market_data_cache.json`, `lib/market_data.py`), future context 2026–2031 (`data/future_context_2026_2031.json`, `lib/future_context_loader.py`), and `ai_lm_content/property_valuation_daily_rental/` (system prompt, reference docs, output schema). |
| **Operator-specific knowledge** | Per-operator: company name, tagline, countries, tone, target owner type, property types, fee structure, Calendly, qualification rules, **up to 50 rules**, and reference documents (draft contract, summary agreement, payout examples). Stored in SQLite (`operators`, `operator_documents`); optionally mirrored to MongoDB. |

### 6.2 Software and technology

| Resource | Description |
|----------|-------------|
| **Backend (Python)** | FastAPI (`operator_onboarding/api_server.py`): operators, documents, context, CRM, auth, settings, config, valuation, leads, agents, logs. Operator logic: `context_builder.py`, `operators.py`, `documents.py`, `airbnb_static_context.py`, `eu_str_tax_context.py`, `message_templates.py`, `llm_integration.py`. |
| **Bot** | `bot/`: main loop, LLM integration (Ollama), browser (Playwright), sender (email). Config: repo root `config.yaml`. |
| **Listings backend** | `backend/` (immo-snip-lu): scrapers for athome.lu, immotop.lu; Selenium; MongoDB (`mongo_db.py`, `mongo_scheduler.py`) or SQLite. |
| **Frontend** | `real-estate-scout/` (Vite, React): Operator Onboarding, pipeline, CRM, data, agents. |
| **CRM and data layer** | `lib/crm_storage.py` (SQLite for owners, properties, conversations); `lib/db.py` (mode: local vs cloud; `get_collection` for leads, agents, logs, operators, etc.). |
| **Property valuation** | `lib/property_evaluator.py`, `lib/market_data.py`, `lib/future_context_loader.py`, `lib/llm_valuation_plug.py`. |

### 6.3 Data assets

| Resource | Description |
|----------|-------------|
| **Listings** | 40+ fields per listing (listing_ref, source, transaction_type, listing_url, title, location, description, sale_price, rent_price, surface_m2, rooms, bedrooms, bathrooms, energy/heating, phone_number, agency_name, image_urls, first_seen, last_updated, title_history). Stored in MongoDB (when `MONGO_URI` set) or SQLite. |
| **Leads** | Contact email/phone, source_url, status, channel, message subject/body, confidence, reason; used for dedupe and outreach history. |
| **Operators and documents** | `providers.db`: operators table (all profile and `agency_context_ext`), operator_documents. |
| **Owners, properties, conversations** | CRM DB: owner-centric; properties and full conversation history (multi-channel, no deletion). |
| **Market and future context** | Curated JSON: city/neighborhood stats, ADR, occupancy; 2026–2031 forecasts for valuation. |

### 6.4 Infrastructure

| Resource | Description |
|----------|-------------|
| **MongoDB Atlas** | Optional cloud DB for listings, leads, agents, logs, config; region e.g. eu-west-1 (Ireland); free tier 512MB or paid M2/M5. |
| **SQLite** | Operators (providers.db), CRM (data/crm.db), auth, and (when not using Mongo) listings/leads. |
| **Local LLM (Ollama)** | Default for classification and message generation; no per-call API cost; runs on agency or Snippy infrastructure. |
| **Email/SMTP** | Configurable (Gmail/Outlook app password, yagmail); required for email outreach. |

---

## 7. Key Activities

### 7.1 Discovery and ingestion

| Activity | Description |
|----------|-------------|
| **Scraping listings** | Backend schedulers (`mongo_scheduler.py`, `parallel_scheduler.py`) hit athome.lu, immotop.lu; optional extension to Facebook Marketplace, nextimmo, etc. Playwright (bot) or Selenium (immo-snip-lu) for browser automation. |
| **Extracting contact info** | From listing text or “Show phone” / “Voir les coordonnées” flows; regex and optional LLM extraction for email/phone. |
| **Deduplication and history** | `already_contacted`, `log_contacted`, `count_contacts_since` (storage module); listing early-exit when title unchanged. |

### 7.2 Qualification and valuation

| Activity | Description |
|----------|-------------|
| **Eligibility classification** | LLM (Ollama) with configurable `criteria`; output: eligible true/false, reason, property_summary. |
| **Property valuation (daily rental)** | `evaluate_property(listing_text, city=..., neighborhood=..., listing=..., model=...)`: market data + future context + system prompt → score, recommendation, estimated revenue, P/E, strengths, risks, certainty. Used in CRM panel and optionally in bot flow. |
| **Viability scoring** | CRM stores viability score, estimated revenue, operating costs, cash flow projection, revenue potential, risk indicators, confidence level for prioritisation and filtering. |

### 7.3 Outreach and messaging

| Activity | Description |
|----------|-------------|
| **Context building** | `get_provider_context(operator_id)`: static (Option A) + EU STR/tax + agency block (from operator + rules) + reference documents → single system prompt string. |
| **Message generation** | `generate_proposal(text, model, provider_id=active_provider_id)`: inject provider context into Ollama system prompt; generate cold opener, follow-up, value bomb, objection handler, or call booking. |
| **Sending** | Email via SMTP/yagmail; optionally Facebook Messenger (Playwright) and website form submission. Rate limits: `max_contacts_per_hour`, `delay_min`/`delay_max`, `cycle_cooldown_seconds`. |
| **Template filling** | `fill_template(name, **placeholders)` for calendly_link, owner_name, property_type, city_area, company_name, tagline, etc. |

### 7.4 Operator and CRM operations

| Activity | Description |
|----------|-------------|
| **Operator onboarding** | Create/update operator (company, tone, target, fee, Calendly, rules, documents); persist in SQLite; optional sync to MongoDB when cloud mode. |
| **CRM CRUD** | Create/update owners, properties; list/filter by stage, source, channel, viability, city; bulk update; export CSV/Excel. |
| **Conversation logging** | Append communications per property (channel, sender, message, timestamps); no deletion; thread view. |
| **Automation control** | Toggle AI continuation; AI stop stage (after contact, after interest, after agreement, never); automation level (manual, semi-auto, fully auto until stage). |
| **Exports** | Property data, owner data, chat history; leads and agents export (CSV/Excel). |

### 7.5 Compliance and safety

| Activity | Description |
|----------|-------------|
| **EU and local compliance** | Inject EU STR/tax and country-level rules into every message context; mention compliance when relevant. |
| **Anti-detection and rate limiting** | Randomized delays, human-like scroll, UA rotation, configurable limits to avoid platform bans. |
| **Audit trail** | Optional `log_every_ai_message_audit`; full conversation history in CRM; no deletion of messages. |

---

## 8. Key Partnerships

### 8.1 Listing and distribution platforms

| Partner | Role |
|---------|------|
| **athome.lu, immotop.lu** | Primary listing sources for Luxembourg; scraped via backend (immo-snip-lu). Parsing, “Show phone” / contact reveal, early-exit logic. |
| **Facebook Marketplace** | Listing feed and (optionally) Messenger outreach; Playwright; configurable selectors, login state, rate limits. |
| **Other sites (nextimmo, bingo, propertyweb, wortimmo, rightmove)** | Referenced in docs as possible extensions; same pattern: config URLs, selectors, scrapers. |

Relationship is **one-way**: IMMO SNIPPY reads public listing data and sends outreach; no formal API partnership. Compliance with ToS and public-data-only is a design principle.

### 8.2 Technology partners

| Partner | Role |
|---------|------|
| **Ollama (local LLM)** | Classification, contact extraction, proposal generation. Avoids third-party API cost and keeps data local. |
| **MongoDB Atlas** | Cloud database for listings, leads, agents, logs when `MONGO_URI` set; optional for operators. |
| **Email/SMTP providers** | Gmail, Outlook, or custom SMTP for sending outreach. |
| **Calendly** | Used by agencies (not by IMMO SNIPPY directly); each operator stores `calendly_link`; AI includes it in call-booking messages. |

### 8.3 Optional / future

| Partner | Role |
|---------|------|
| **Auth providers** | Google OAuth, LinkedIn OAuth for user login; session and mode (local vs cloud) can drive DB choice. |
| **AWS / cloud** | MongoDB Atlas can be hosted on AWS (eu-west-1); no “AWS bots” (Lambda, ECS) in repo today. |
| **HubSpot, Pipedrive, etc.** | CRM interface design mentions optional outbound webhook or export to external CRM; not implemented in codebase. |

---

## 9. Cost Structure

### 9.1 Development and maintenance

| Cost | Description |
|------|-------------|
| **Engineering** | Backend (FastAPI, bot, scrapers, context builder, CRM), frontend (React/Vite), LLM prompts and valuation logic, integrations. |
| **Product and design** | Operator onboarding UX, CRM pipelines, compliance and phrasing, message templates. |
| **Documentation** | Master reference, Grok summary, API specs (e.g. LOVABLE_FRONTEND_SPEC), operator expanded schema, CRM functional spec. |

### 9.2 Infrastructure and operations

| Cost | Description |
|------|-------------|
| **MongoDB Atlas** | Free tier (M0) 512MB or paid M2/M5 for larger listing/lead volume. |
| **Hosting** | If offering hosted app: VPS, container, or future ECS/Lambda for API and frontend; env for `API_BASE_URL`, `AUTH_FRONTEND_URL`, `MONGO_URI`. |
| **Email** | SMTP costs (or agency’s own SMTP); no in-repo billing. |
| **LLM** | **Zero** if 100% Ollama (local); if switching to cloud LLM APIs, per-token or per-request cost. |

### 9.3 Compliance and risk

| Cost | Description |
|------|-------------|
| **Legal / compliance** | EU STR, DAC7, local regulations; product encodes disclaimers and phrasing but does not replace legal advice. |
| **Reputation and ToS** | Low-volume, human-like behaviour to minimise platform bans; no explicit “cost” in repo. |

### 9.4 Not present in repo

- **Sales and marketing** (no material in repo).
- **Customer success / support** (no defined process).
- **Payment processing** (no billing or subscription code).

---

## 10. Summary Table (One-Page View)

| Building block | Summary |
|----------------|---------|
| **Customer segments** | Primary: STR/Airbnb management agencies (operators). Secondary: property owners (indirect; recipients of outreach). Tertiary: developers/integrators. |
| **Value propositions** | Automated lead discovery & qualification; on-brand LLM outreach with operator context; pipeline to discovery call; EU-compliant phrasing; CRM (owner-centric, two pipelines, viability, exports); property valuation; local Ollama option. |
| **Channels** | Web app (real-estate-scout), Operator Onboarding UI, FastAPI, config-driven bot, Streamlit, CLI. Outbound: email, FB Messenger, website forms, Calendly (link only). |
| **Customer relationships** | Self-serve onboarding; automated delivery; configuration and control (tone, rules, limits); CRM for pipeline; context transparency; no explicit support doc. |
| **Revenue streams** | **Not defined in codebase.** Plausible: SaaS subscription, per-lead/contact, one-time license, white-label/partner rev share. |
| **Key resources** | Static + EU context, message templates, valuation context, operator knowledge; Python/FastAPI, bot, listings backend, React frontend, CRM/DB layer; listing/lead/operator/CRM data; MongoDB Atlas, SQLite, Ollama, SMTP. |
| **Key activities** | Scraping and contact extraction; LLM qualification and valuation; context building and message generation; sending (email/messenger/forms); operator onboarding; CRM CRUD, logging, exports; compliance and rate limiting. |
| **Key partnerships** | Listing sites (athome, immotop, FB Marketplace); Ollama; MongoDB Atlas; SMTP; Calendly (agency-side); optional OAuth, AWS, external CRM. |
| **Cost structure** | Engineering and docs; infra (MongoDB, hosting); email; LLM (zero if Ollama); compliance/legal. No sales, support, or billing in repo. |

---

*End of Business Model Canvas — IMMO SNIPPY. For technical and implementation detail, see IMMO_SNIPPY_TOOL_SUMMARY_FOR_GROK.md and IMMO_SNIPPY_MASTER_REFERENCE.md.*
